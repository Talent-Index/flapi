<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Flappy Haunt ğŸƒ</title>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png" />
  <link rel="shortcut icon" href="/favicon.png" />
  <link rel="apple-touch-icon" sizes="72x72" href="/favicon.png" />
  <link rel="stylesheet" href="./css/styles.css" />
  <link rel="preconnect" href="https://ajax.googleapis.com" crossorigin>
  <script>
    var dojoConfig = {
      async: true,
      parseOnLoad: false,
      packages: [
        { name: "app", location: location.pathname.replace(/\/[^/]*$/, '') + '/src' }
      ]
    };
  </script>
  <script src="https://ajax.googleapis.com/ajax/libs/dojo/1.10.4/dojo/dojo.js"></script>
</head>

<body>
  <div id="app">
    <div style="position:relative">
      <canvas id="game" width="360" height="640" aria-label="Flappy Haunt game canvas"></canvas>
      <div class="hud">
        <div class="score" id="score">0</div>
        <div class="best" id="best">Best: 0</div>
        <div class="lives" id="lives">â¤ï¸</div>
        <button class="btn" id="btnPause">Pause</button>
      </div>

      <!-- Opening Menu -->
      <div class="overlay" id="startMenu">
        <div class="panel">
          <h1>Flappy Haunt ğŸƒ</h1>
          <p>Tap or press Space/Up to flap.</p>
          <p>Press Enter or click Pause to pause.</p>
          <p><strong>Pass 7 obstacles and get 1 $FLAPPY</strong></p>
          <p class="small">$FLAPPY is the utility token in the Flappy Haunt universe.</p>
          <p class="small">1 $FLAPPY = 1 Life</p>
          <div class="menu-buttons">
            <button class="btn primary" id="btnPlay">Play Game</button>
            <button class="btn wallet-btn" id="walletBtn">Connect Starknet Wallet</button>
            <button class="btn" id="btnRestart">Restart Game</button>
          </div>
        </div>
      </div>

      <!-- Game Over Overlay -->
      <div class="overlay hidden" id="overlay">
        <div class="panel">
          <h1>Flappy Haunt</h1>
          <p id="overlayText">Game Over</p>
          <p id="nftMessage" style="display:none; color:#32ff64; margin:10px 0; font-size:14px;"></p>
          <div class="menu-buttons">
            <button class="btn primary" id="restart">Play Again</button>
            <button class="btn" id="backToMenu">Main Menu</button>
            <button class="btn accent" id="mintBtn" style="display:none; margin-top:10px;">Mint NFT ğŸƒ</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    require(["app/main"], function (main) { /* boot */ });
  </script>
</body>

</html>